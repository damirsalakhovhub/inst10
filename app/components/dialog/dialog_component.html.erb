<%#
  Dialog Component Template
  Native HTML5 dialog element with full accessibility support.
  Provides modal dialog with backdrop, focus trap, and keyboard navigation.
  See dialog_component.rb for component logic and dialog_component.scss for styles.
%>

<dialog <%= tag.attributes(dialog_attributes) %>>
  <div class="dialog-container">
    <%# Header with title and close button %>
    <header class="dialog-header">
      <h2 id="<%= title_id %>" class="dialog-title">
        <%= title %>
      </h2>
      <%= render Button::ButtonComponent.new(
        icon: "close",
        icon_mode: :icon_only,
        size: :medium,
        variant: :ghost,
        aria: { label: "Close dialog" },
        data: { action: "dialog#close" },
        class: "dialog-close"
      ) %>
    </header>

    <%# Main content area %>
    <main class="dialog-main">
      <% if body.present? %>
        <%= body %>
      <% elsif block_given? %>
        <%= yield %>
      <% end %>
    </main>
    <footer class="dialog-footer">
      <%= render Button::ButtonComponent.new(
        text: "Close",
        variant: :default,
        aria: { label: "Close dialog" },
        data: { action: "dialog#close" }
      ) %>
      <%= render Button::ButtonComponent.new(
        text: "Action",
        variant: :primary,
      ) %>
    </footer>
  </div>
</dialog>

