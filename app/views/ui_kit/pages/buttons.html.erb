<%
  variants = [:basic, :primary, :ghost]
  sizes = [:tiny, :small, :medium, :large, :xlarge]
  button_templates = [
    { text: "Button" },
    { text: "Like", icon: "heart", icon_position: :left },
    { text: "Like", icon: "heart", icon_position: :right },
    { icon: "heart", icon_mode: :icon_only, aria: { label: "Like" } }
  ]
%>

<%= render "ui_kit/shared/layout" do %>
  <main class="ui-kit-main">
    <h1>Buttons</h1>

    <section class="ui-kit-section">
      <h2>Classic Buttons (No ViewComponent - 37signals style)</h2>
      <% variants.each do |variant| %>
        <h3><%= variant.to_s.capitalize %></h3>
        <div class="ui-kit-element-group">
          <% sizes.each do |size| %>
            <div class="ui-kit-row">
              <% size_class = size == :medium ? "" : "btn-#{size}" %>
              <% variant_class = variant == :basic ? "btn btn-basic" : "btn btn-#{variant}" %>
              <% button_class = [variant_class, size_class].compact.join(" ") %>
              <%= button_tag "Button", class: button_class %>
            </div>
          <% end %>
        </div>
      <% end %>
    </section>

    <section class="ui-kit-section">
      <h2>Button Variants (ViewComponent)</h2>
      <% variants.each do |variant| %>
      <section class="ui-kit-section">
        <h2><%= variant.to_s.capitalize %></h2>
        <div class="ui-kit-element-group">
          <% sizes.each do |size| %>
            <div class="ui-kit-row">
              <% button_templates.each do |template| %>
                <%= render Button::ButtonComponent.new(**template.merge(variant: variant, size: size)) %>
              <% end %>
            </div>
          <% end %>
        </div>
      </section>
    <% end %>

    <%# Rounded buttons %>
    <section class="ui-kit-section">
      <h2>Rounded</h2>
      <div class="ui-kit-element-group">
        <% [:basic, :primary].each do |variant| %>
          <% [:medium, :large].each do |size| %>
            <div class="ui-kit-row">
              <% button_templates.each do |template| %>
                <%= render Button::ButtonComponent.new(**template.merge(variant: variant, size: size, rounded: true)) %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
    </section>
  </main>
<% end %>
