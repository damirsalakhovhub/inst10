<%
  variants = [:basic, :primary, :ghost]
  sizes = [:tiny, :small, :medium, :large, :xlarge]
  button_templates = [
    { text: "Button" },
    { text: "Like", icon: "heart", icon_position: :left },
    { text: "Like", icon: "heart", icon_position: :right },
    { icon: "heart", icon_mode: :icon_only, aria: { label: "Like" } }
  ]
%>

<%= render "ui_kit/shared/layout" do %>
  <main class="ui-kit-main">
    <h1>Buttons</h1>

    <%# Sizes & variants ------------------------------------------------ %>
    <section class="ui-kit-section">
      <h2>Base</h2>
      <div class="ui-kit-element-group">
        <div class="ui-kit-row">
          <%= render "shared/button", text: "Small",  size: :small %>
          <%= render "shared/button", text: "Medium" %>
          <%= render "shared/button", text: "Large",  size: :large %>
        </div>
        <div class="ui-kit-row">
          <%= render "shared/button", text: "Primary S", size: :small, variant: :primary %>
          <%= render "shared/button", text: "Primary"   ,               variant: :primary %>
          <%= render "shared/button", text: "Primary L", size: :large,  variant: :primary %>
        </div>
        <div class="ui-kit-row">
          <%= render "shared/button", text: "Contrast S", size: :small, variant: :contrast %>
          <%= render "shared/button", text: "Contrast"   ,               variant: :contrast %>
          <%= render "shared/button", text: "Contrast L", size: :large,  variant: :contrast %>
        </div>
      </div>
    </section>

    <%# Rounded --------------------------------------------------------- %>
    <section class="ui-kit-section">
      <h2>Rounded</h2>
      <div class="ui-kit-element-group">
        <div class="ui-kit-row">
          <%= render "shared/button", text: "Rounded", rounded: true %>
          <%= render "shared/button", text: "Primary", rounded: true, variant: :primary %>
          <%= render "shared/button", text: "Contrast", rounded: true, variant: :contrast %>
        </div>
      </div>
    </section>

    <%# Disabled -------------------------------------------------------- %>
    <section class="ui-kit-section">
      <h2>Disabled</h2>
      <div class="ui-kit-element-group">
        <div class="ui-kit-row">
          <%= render "shared/button", text: "Default", disabled: true %>
          <%= render "shared/button", text: "Primary", variant: :primary, disabled: true %>
          <%= render "shared/button", text: "Contrast", variant: :contrast, disabled: true %>
          <%= render "shared/button", text: "Rounded", rounded: true, disabled: true %>
        </div>
      </div>
    </section>

    <%# Icons ----------------------------------------------------------- %>
    <section class="ui-kit-section">
      <h2>Icons</h2>
      <div class="ui-kit-element-group">
        <% icon_path = Rails.root.join("app/assets/images/icons/heart-icon.svg") %>
        <% if File.exist?(icon_path) %>
          <% icon_svg = File.read(icon_path).gsub(/\s(width|height)=["'][^"']*["']/, '').gsub(/<svg/, '<svg style="width: 100%; height: 100%;" class="btn-icon-svg"').html_safe %>
          <div class="ui-kit-row">
            <%= render "shared/button", text: "Like", icon_left: icon_svg, variant: :primary %>
            <%= render "shared/button", text: "Like", icon_right: icon_svg, variant: :primary %>
            <%= render "shared/button", icon_left: icon_svg, icon_only: true, variant: :primary, aria: { label: "Like" } %>
          </div>
          <div class="ui-kit-row">
            <%= render "shared/button", text: "Like", icon_left: icon_svg, variant: :primary, size: :small %>
            <%= render "shared/button", icon_left: icon_svg, icon_only: true, variant: :primary, size: :small, aria: { label: "Like" } %>
            <%= render "shared/button", text: "Like", icon_left: icon_svg, variant: :primary, size: :large %>
            <%= render "shared/button", icon_left: icon_svg, icon_only: true, variant: :primary, size: :large, aria: { label: "Like" } %>
          </div>
        <% else %>
          <div class="ui-kit-row">
            <%= button_tag "Add heart-icon.svg to see icons", class: "btn" %>
          </div>
        <% end %>
      </div>
    </section>
  </main>
<% end %>
