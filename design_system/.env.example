# Environment Variables Configuration
# Copy this file to .env and update values for your project
# cp .env.example .env

# ==============================================================================
# APPLICATION NAMING
# ==============================================================================
# These variables control application naming across the entire stack
# Required for database names, Docker services, and application display

# Human-readable application name (used in views, layouts, PWA manifest)
APP_NAME=Rails Template

# Database naming convention (snake_case)
# Used for: database names (development, test, production)
APP_NAME_SNAKE_CASE=rails_template

# Docker/Kamal naming convention (kebab-case)
# Used for: Docker service names, image names, volume names
APP_NAME_KEBAB_CASE=rails-template

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# PostgreSQL connection settings
# Development/Test defaults work out of the box
DATABASE_HOST=localhost
DATABASE_PORT=5432

# Production database password (required for production)
# Never commit this value - use secrets management in production
DATABASE_PASSWORD=

# ==============================================================================
# DEPLOYMENT CONFIGURATION (Kamal)
# ==============================================================================

# Docker registry username (for image publishing)
# Examples: dockerhub-username, ghcr.io/username, registry.digitalocean.com/username
DOCKER_REGISTRY_USER=your-user

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================

# Rails application port (default: 3000)
PORT=3000

# Maximum number of threads per worker (default: 5)
# Should match database connection pool size
RAILS_MAX_THREADS=5

# Rails log level (default: info)
# Options: debug, info, warn, error, fatal
RAILS_LOG_LEVEL=info

# ==============================================================================
# BACKGROUND JOBS (Solid Queue)
# ==============================================================================

# Enable Solid Queue inside Puma process (default: true)
# Set to false when using dedicated job worker servers
SOLID_QUEUE_IN_PUMA=true

# Number of concurrent job workers (default: 1)
# Only used when SOLID_QUEUE_IN_PUMA=true
JOB_CONCURRENCY=1

# Number of web server workers (default: 1)
# Increase for multi-core servers
WEB_CONCURRENCY=1

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================

# Devise mailer sender address
# Used for password reset, confirmation emails, etc.
DEVISE_MAILER_SENDER=noreply@example.com

# ==============================================================================
# SECURITY & CORS
# ==============================================================================

# CORS allowed origins for production (comma-separated)
# Only used in production environment
# Example: https://app.example.com,https://www.example.com
APP_CORS_ORIGINS=

# Content Security Policy report URI (optional)
# Set to your CSP reporting endpoint for violation monitoring
# Example: https://csp.example.com/report
CONTENT_SECURITY_POLICY_REPORT_URI=

# ==============================================================================
# PRODUCTION SECRETS
# ==============================================================================
# These should NEVER be committed to version control
# Use Rails credentials or secrets management system in production:
# - Rails credentials: bin/rails credentials:edit
# - Kamal secrets: .kamal/secrets
# - Environment variables on deployment platform

# Rails master key (required for production)
# Used to decrypt config/credentials.yml.enc
# Generate with: bin/rails credentials:edit
RAILS_MASTER_KEY=

# Docker registry password/token (for Kamal deployment)
# Store in .kamal/secrets file, not here
# KAMAL_REGISTRY_PASSWORD=

# ==============================================================================
# NOTES
# ==============================================================================
# - Default values allow the template to work out of the box
# - Only required variables need to be set initially
# - Production secrets should use proper secrets management
# - Never commit .env file with real credentials to git
# - Use .env.example as template and documentation
